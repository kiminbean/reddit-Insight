---
phase: 08-business-insights
plan: 02
type: execute
depends_on: ["08-01"]
files_modified: [src/reddit_insight/insights/scoring.py]
---

<objective>
비즈니스 기회 스코어링 시스템을 구현한다.

Purpose: 인사이트를 비즈니스 가치 기준으로 점수화하여 우선순위 결정
Output: OpportunityScorer, BusinessScore, 기회 랭킹
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-business-insights/08-01-PLAN.md

**Prior plan context:**
- RulesEngine으로 Insight 생성됨
- Insight에 priority, confidence 있음

**Scoring factors:**
- 시장 규모 (수요 빈도 기반)
- 경쟁 강도 (기존 제품 수, 감성)
- 긴급성 (불만 강도, 대안 탐색 빈도)
- 트렌드 (상승/하락)
</context>

<tasks>

<task type="auto">
  <name>Task 1: 스코어링 데이터 구조</name>
  <files>src/reddit_insight/insights/scoring.py</files>
  <action>
  src/reddit_insight/insights/scoring.py 생성:

  1. ScoreDimension 열거형:
     - MARKET_SIZE: 시장 규모
     - COMPETITION: 경쟁 강도 (낮을수록 좋음)
     - URGENCY: 긴급성
     - TREND: 트렌드 방향
     - FEASIBILITY: 실현 가능성

  2. DimensionScore 데이터 클래스:
     - dimension: ScoreDimension
     - score: float (0-100)
     - weight: float
     - rationale: str

  3. BusinessScore 데이터 클래스:
     - total_score: float (0-100)
     - dimensions: list[DimensionScore]
     - grade: str (A/B/C/D/F)
     - recommendation: str

  4. ScoringConfig 데이터 클래스:
     - market_size_weight: float = 0.25
     - competition_weight: float = 0.20
     - urgency_weight: float = 0.25
     - trend_weight: float = 0.15
     - feasibility_weight: float = 0.15
  </action>
  <verify>
  - python -c "import sys; sys.path.insert(0, 'src'); from reddit_insight.insights.scoring import ScoreDimension, BusinessScore, ScoringConfig; print('Scoring structures OK')"
  </verify>
  <done>
  - 스코어링 데이터 구조 정의
  - 5가지 평가 차원 정의
  </done>
</task>

<task type="auto">
  <name>Task 2: 차원별 스코어 계산</name>
  <files>src/reddit_insight/insights/scoring.py</files>
  <action>
  scoring.py에 차원별 계산기 추가:

  1. DimensionCalculator 프로토콜:
     - calculate(insight: Insight, context: AnalysisContext) -> DimensionScore

  2. MarketSizeCalculator:
     - 수요 빈도 기반 시장 규모 추정
     - 높은 빈도 = 높은 점수

  3. CompetitionCalculator:
     - 관련 제품/서비스 수
     - 경쟁사 감성 점수
     - 낮은 경쟁 = 높은 점수

  4. UrgencyCalculator:
     - 불만 심각도
     - 대안 탐색 빈도
     - WILLINGNESS_TO_PAY 비율

  5. TrendCalculator:
     - Rising Score 기반
     - 시계열 변화율

  6. FeasibilityCalculator:
     - 기술적 복잡도 추정
     - 기존 솔루션 유무
  </action>
  <verify>
  - python -c "import sys; sys.path.insert(0, 'src'); from reddit_insight.insights.scoring import MarketSizeCalculator, CompetitionCalculator; print('Dimension calculators OK')"
  </verify>
  <done>
  - 5가지 차원 계산기 구현
  </done>
</task>

<task type="auto">
  <name>Task 3: 통합 스코어러</name>
  <files>src/reddit_insight/insights/scoring.py</files>
  <action>
  scoring.py에 OpportunityScorer 추가:

  1. OpportunityScorer 클래스:
     - __init__(config: ScoringConfig | None = None)
     - _config: ScoringConfig
     - _calculators: dict[ScoreDimension, DimensionCalculator]

  2. 스코어링 메서드:
     - score_insight(
         insight: Insight,
         context: AnalysisContext
       ) -> BusinessScore:
       - 단일 인사이트 스코어링

     - score_insights(
         insights: list[Insight],
         context: AnalysisContext
       ) -> list[tuple[Insight, BusinessScore]]:
       - 여러 인사이트 스코어링 및 정렬

  3. 등급 계산:
     - _calculate_grade(score: float) -> str:
       - A: 80+ / B: 60-79 / C: 40-59 / D: 20-39 / F: 0-19

     - _generate_recommendation(
         insight: Insight,
         score: BusinessScore
       ) -> str:
       - 점수 기반 추천 문구 생성

  4. ScoredOpportunity 데이터 클래스:
     - insight: Insight
     - score: BusinessScore
     - rank: int
  </action>
  <verify>
  - python -c "import sys; sys.path.insert(0, 'src'); from reddit_insight.insights.scoring import OpportunityScorer, ScoredOpportunity; s = OpportunityScorer(); print('OpportunityScorer OK')"
  </verify>
  <done>
  - OpportunityScorer 구현
  - 등급 및 추천 생성
  </done>
</task>

<task type="auto">
  <name>Task 4: export 업데이트</name>
  <files>src/reddit_insight/insights/__init__.py</files>
  <action>
  __init__.py 업데이트:
  - ScoreDimension, DimensionScore, BusinessScore export
  - ScoringConfig, OpportunityScorer export
  - ScoredOpportunity export
  - __all__ 업데이트
  </action>
  <verify>
  - python -c "import sys; sys.path.insert(0, 'src'); from reddit_insight.insights import OpportunityScorer, BusinessScore, ScoredOpportunity; print('All scoring exports OK')"
  </verify>
  <done>
  - 스코어링 모듈 export됨
  </done>
</task>

</tasks>

<verification>
- [ ] ScoreDimension 5가지 정의됨
- [ ] 차원별 계산기 구현됨
- [ ] OpportunityScorer가 인사이트 스코어링
</verification>

<success_criteria>
- 모든 태스크 완료
- 비즈니스 기회 스코어링 동작
</success_criteria>

<output>
After completion, create `.planning/phases/08-business-insights/08-02-SUMMARY.md`
</output>
