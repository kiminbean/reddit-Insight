# Plan 13-01: Recent Analyses Display Enhancement

## Objective

대시보드 홈의 Recent Analyses 섹션이 분석 이력을 올바르게 표시하도록 보장하고, UX를 개선한다.

## Execution Context

```
src/reddit_insight/dashboard/
├── services_module.py          # DashboardService.get_recent_analyses()
├── data_store.py               # get_analysis_history()
├── routers/main.py             # 홈 라우터
└── templates/dashboard/home.html
```

## Context

### 현재 구현 상태

`DashboardService.get_recent_analyses()` (services_module.py:86-117):
- `get_analysis_history(limit)` 호출하여 DB에서 분석 이력 조회
- 반환값을 `AnalysisRecord` 리스트로 변환
- DB 없으면 내부 캐시 `self._analyses` 사용 (빈 리스트)

### 개선 필요 사항

1. **Empty State UX**: 분석 기록이 없을 때 "Start Analysis" 버튼 안내 (이미 구현)
2. **Analysis Detail Page**: `/dashboard/analysis/{id}` 라우트 구현 필요
3. **Delete/Re-analyze**: 분석 기록 관리 기능 추가

## Tasks

### Task 1: Analysis Detail 라우트 구현

**목표**: 개별 분석 결과 상세 페이지 생성

**파일**:
- `src/reddit_insight/dashboard/routers/main.py` (라우트 추가)
- `src/reddit_insight/dashboard/templates/dashboard/analysis_detail.html` (템플릿 생성)

**구현**:
```python
@router.get("/analysis/{analysis_id}", response_class=HTMLResponse)
async def analysis_detail(request: Request, analysis_id: int) -> HTMLResponse:
    """특정 분석 결과 상세 페이지."""
    # DB에서 해당 분석 결과 로드
    # 해당 분석의 trends, demands, competition, insights 표시
```

### Task 2: Analysis Detail 템플릿 생성

**목표**: 분석 결과를 요약하여 표시하는 상세 페이지 템플릿

**파일**: `src/reddit_insight/dashboard/templates/dashboard/analysis_detail.html`

**내용**:
- 서브레딧 이름, 분석 일시, 게시물 수
- 주요 키워드 Top 5
- 주요 수요 Top 3
- 주요 인사이트 Top 3
- 각 섹션으로 이동하는 링크

### Task 3: 데이터 로드 함수 추가

**목표**: ID로 특정 분석 결과를 로드하는 함수

**파일**: `src/reddit_insight/dashboard/data_store.py`

**구현**:
```python
def load_analysis_by_id(analysis_id: int) -> AnalysisData | None:
    """특정 ID의 분석 결과를 데이터베이스에서 로드한다."""
```

## Verification

```bash
# 1. 테스트 실행
pytest tests/dashboard/ -v

# 2. 서버 실행 후 수동 확인
PYTHONPATH=src uvicorn reddit_insight.dashboard.app:app --port 8888
# http://localhost:8888/dashboard 에서 Recent Analyses 클릭
```

## Success Criteria

- [ ] `/dashboard/analysis/{id}` 라우트 동작
- [ ] Analysis Detail 페이지에서 키워드/수요/인사이트 요약 표시
- [ ] 존재하지 않는 ID에 대해 404 처리

## Output

- `src/reddit_insight/dashboard/routers/main.py` 수정
- `src/reddit_insight/dashboard/templates/dashboard/analysis_detail.html` 생성
- `src/reddit_insight/dashboard/data_store.py` 수정
- 13-01-SUMMARY.md 작성
