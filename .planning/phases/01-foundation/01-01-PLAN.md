---
phase: 01-foundation
plan: 01
type: execute
depends_on: []
files_modified: [pyproject.toml, src/reddit_insight/__init__.py, src/reddit_insight/py.typed, tests/__init__.py, tests/conftest.py, .gitignore, README.md]
---

<objective>
Python 프로젝트 구조와 의존성을 설정한다.

Purpose: 전체 프로젝트의 기반이 되는 패키지 구조와 개발 환경을 구축
Output: 실행 가능한 Python 패키지 구조, pyproject.toml, 기본 테스트 설정
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Tech stack decisions:**
- Python 3.11+ (Apple Silicon MPS 지원)
- Package manager: pip with pyproject.toml (PEP 621)
- Testing: pytest
- Type checking: mypy (strict mode)

**Constraints from PROJECT.md:**
- 무료 도구/API/모델만 사용
- 로컬 LLM 포함 가능
</context>

<tasks>

<task type="auto">
  <name>Task 1: Python 프로젝트 구조 생성</name>
  <files>src/reddit_insight/__init__.py, src/reddit_insight/py.typed, tests/__init__.py, tests/conftest.py, .gitignore</files>
  <action>
  1. src/reddit_insight/ 디렉토리 생성 (패키지 구조)
  2. src/reddit_insight/__init__.py 생성 - __version__ = "0.1.0" 포함
  3. src/reddit_insight/py.typed 생성 (PEP 561 marker)
  4. tests/ 디렉토리 생성
  5. tests/__init__.py 생성 (빈 파일)
  6. tests/conftest.py 생성 - pytest fixtures 기본 설정
  7. .gitignore 생성 - Python, venv, IDE, .env 등 제외 패턴

  주의: 표준 Python 패키지 레이아웃(src layout) 사용. flat layout 대신 src/ 사용하는 이유는 editable install 시 import 문제 방지
  </action>
  <verify>
  - ls -la src/reddit_insight/ 로 파일 확인
  - python -c "import sys; sys.path.insert(0, 'src'); from reddit_insight import __version__; print(__version__)"
  </verify>
  <done>
  - src/reddit_insight/__init__.py 존재 및 __version__ 정의됨
  - py.typed marker 파일 존재
  - tests/conftest.py 존재
  - .gitignore 파일 존재
  </done>
</task>

<task type="auto">
  <name>Task 2: pyproject.toml 설정 및 의존성 정의</name>
  <files>pyproject.toml, README.md</files>
  <action>
  1. pyproject.toml 생성 (PEP 621 형식):
     - [project] 섹션: name="reddit-insight", version="0.1.0", python=">=3.11"
     - dependencies (core): pydantic, pydantic-settings, httpx, rich (logging/CLI)
     - [project.optional-dependencies]:
       - dev: pytest, pytest-cov, mypy, ruff
       - nlp: (Phase 5에서 추가 예정 - 주석으로 표시)
     - [tool.pytest.ini_options]: testpaths, asyncio_mode
     - [tool.mypy]: strict mode, src 경로
     - [tool.ruff]: Python 3.11 target, 기본 rules

  2. README.md 생성:
     - 프로젝트 설명 (한 줄)
     - 설치 방법
     - 개발 환경 설정

  주의: build-backend는 setuptools 사용. poetry/hatch는 추가 의존성이므로 피함.
  </action>
  <verify>
  - python -m pip install -e ".[dev]" --dry-run (의존성 해석 확인)
  - cat pyproject.toml | grep "name"
  </verify>
  <done>
  - pyproject.toml이 유효한 PEP 621 형식
  - pip install -e . 가 성공할 수 있는 구조
  - README.md에 설치 방법 포함
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `python -c "import sys; sys.path.insert(0, 'src'); from reddit_insight import __version__; print(__version__)"` 성공
- [ ] pyproject.toml이 유효한 형식
- [ ] .gitignore가 적절한 패턴 포함
- [ ] 디렉토리 구조가 src layout 표준 준수
</verification>

<success_criteria>

- 모든 태스크 완료
- Python 패키지로 import 가능
- pyproject.toml 유효
- 기본 테스트 구조 준비됨
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
